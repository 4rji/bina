#!/bin/bash

function mkt(){
    local base_dir="/home/ass/Documents/GitHub/4rji/4rjinotes/htb"
    local new_dir="$base_dir/$1"
    local template_file="/home/ass/.template.md"
    local machine_name="$1"
    local new_file="$new_dir/$machine_name.md"
    
    mkdir -p "$new_dir/nmap" && cd "$new_dir/nmap" && mkdir -p nmap content exploits scripts && cp "$template_file" "$machine_name.md" 
    echo "$new_dir"
    echo "export htf=$new_file"
}

base_dir="/home/ass/Documents/GitHub/4rji/4rjinotes/htb"

# Verificar si se proporcion칩 el nombre de la m치quina como argumento
if [ $# -eq 0 ]; then
    echo "Debe especificar el nombre de la m치quina como argumento."
    exit 1
fi

nombre_maquina=$1

# Ejecutar la funci칩n mkt y obtener la ruta de htcon
htcon=$(mkt "$nombre_maquina")

echo ""
# Exportar la variable htcon
echo "export htcon=$htcon"

# No es necesario preguntar por la IP ya que no se usa en el script

echo ""
echo "copiar y pegar para guardar las variables"
echo ""
