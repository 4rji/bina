#!/bin/bash

function mkt(){
    local base_dir="/home/ass/Documents/GitHub/4rji/4rjinotes/htb"
    local new_dir="$base_dir/$1"
    local template_file="/home/ass/.template.md"
    local machine_name="$1"
    local new_file="$new_dir/$machine_name.md"
    
    mkdir -p "$new_dir" && cd "$new_dir/nmap" && mkdir -p nmap content exploits scripts && cp "$template_file" "$machine_name.md" 
    echo "$new_dir"
    echo "export htf=$new_file"
}

base_dir="/home/ass/Documents/GitHub/4rji/4rjinotes/htb"

# Preguntar por el nombre de la maquina y la IP
read -p "Nombre de la maquina: " nombre_maquina
read -p "IP: " ip

# Ejecutar la funci√≥n mkt y obtener la ruta de htcon
htcon=$(mkt "$nombre_maquina")

echo ""
# Exportar la variable htcon
echo "export htcon=$htcon"

# Exportar la variable ip
echo "export ip=$ip"


echo ""
echo "copiar y pegar para guardar las variables"
echo ""
